<div class="detail-container">
  <div class="loading-spinner" *ngIf="loading">
    <mat-spinner></mat-spinner>
  </div>

  <div class="error-message" *ngIf="error && !loading">
    <mat-card>
      <mat-card-content>
        <p>{{ error }}</p>
        <button mat-raised-button color="primary" (click)="goBack()">
          <mat-icon>arrow_back</mat-icon>
          Back to Vehicles
        </button>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="vehicle-detail" *ngIf="vehicle && !loading">
    <div class="header-actions">
      <button mat-raised-button (click)="goBack()">
        <mat-icon>arrow_back</mat-icon>
        Back to Vehicles
      </button>
    </div>

    <mat-card class="detail-card">
      <mat-card-header>
        <mat-card-title>{{ vehicle.name }}</mat-card-title>
        <mat-card-subtitle>{{ vehicle.vehicleClass }} Vehicle</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="vehicle-info">
          <div class="info-section">
            <h3>Technical Specifications</h3>
            <mat-list>
              <mat-list-item>
                <mat-icon matListItemIcon>precision_manufacturing</mat-icon>
                <div matListItemTitle>Model</div>
                <div matListItemLine>{{ vehicle.model }}</div>
              </mat-list-item>
              <mat-list-item>
                <mat-icon matListItemIcon>factory</mat-icon>
                <div matListItemTitle>Manufacturer</div>
                <div matListItemLine>{{ vehicle.manufacturer }}</div>
              </mat-list-item>
              <mat-list-item>
                <mat-icon matListItemIcon>attach_money</mat-icon>
                <div matListItemTitle>Cost in Credits</div>
                <div matListItemLine>{{ vehicle.costInCredits }}</div>
              </mat-list-item>
              <mat-list-item>
                <mat-icon matListItemIcon>straighten</mat-icon>
                <div matListItemTitle>Length</div>
                <div matListItemLine>{{ vehicle.length }} meters</div>
              </mat-list-item>
              <mat-list-item>
                <mat-icon matListItemIcon>speed</mat-icon>
                <div matListItemTitle>Max Atmosphering Speed</div>
                <div matListItemLine>{{ vehicle.maxAtmospheringSpeed }} km/h</div>
              </mat-list-item>
              <mat-list-item>
                <mat-icon matListItemIcon>groups</mat-icon>
                <div matListItemTitle>Crew</div>
                <div matListItemLine>{{ vehicle.crew }}</div>
              </mat-list-item>
              <mat-list-item>
                <mat-icon matListItemIcon>airline_seat_recline_normal</mat-icon>
                <div matListItemTitle>Passengers</div>
                <div matListItemLine>{{ vehicle.passengers }}</div>
              </mat-list-item>
              <mat-list-item>
                <mat-icon matListItemIcon>inventory</mat-icon>
                <div matListItemTitle>Cargo Capacity</div>
                <div matListItemLine>{{ vehicle.cargoCapacity }} kg</div>
              </mat-list-item>
              <mat-list-item>
                <mat-icon matListItemIcon>timer</mat-icon>
                <div matListItemTitle>Consumables</div>
                <div matListItemLine>{{ vehicle.consumables }}</div>
              </mat-list-item>
            </mat-list>
          </div>

          <div class="info-section" *ngIf="vehicle.pilots?.length">
            <h3>Known Pilots ({{ vehicle.pilots.length }})</h3>
            <mat-chip-set>
              <mat-chip *ngFor="let pilot of vehicle.pilots">{{ pilot }}</mat-chip>
            </mat-chip-set>
          </div>

          <div class="info-section" *ngIf="vehicle.films?.length">
            <h3>Featured in Films ({{ vehicle.films.length }})</h3>
            <mat-chip-set>
              <mat-chip *ngFor="let film of vehicle.films">{{ film }}</mat-chip>
            </mat-chip-set>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>